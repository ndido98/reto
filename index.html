<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.105.0"><meta charset=utf-8><title>Reasonable Time Ontology</title><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="black-translucent"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><link rel=stylesheet href=/reto/reveal-js/css/reset.css><link rel=stylesheet href=/reto/reveal-js/css/reveal.css><link rel=stylesheet href=/reto/css/custom-theme.min.7df811ccd6badd1aab582037b4f7c032640a23823d9867528bc878e846a61810.css id=theme><link rel=stylesheet href=/reto/highlight-js/github.min.css><link href='https://fonts.googleapis.com/css?family=Roboto Mono' rel=stylesheet><link href='https://fonts.googleapis.com/css?family=Oxygen Mono' rel=stylesheet><link href='https://fonts.googleapis.com/css?family=Ubuntu Mono' rel=stylesheet></head><body><div class=reveal><div class=slides><section><h1 id=reasonable-time-ontology>Reasonable Time Ontology</h1><p>Giacomo Cavalieri - Nicolò Di Domenico</p></section><section><h1 id=obiettivi>Obiettivi</h1><p>Prendendo come punto di partenza la modellazione fatta dall&rsquo;ontologia TEO<br>abbiamo realizzato l&rsquo;ontologia ReTO con l&rsquo;obiettivo di:</p><ul><li>Realizzare un&rsquo;ontologia per una <em>rappresentazione strutturata delle</em><br><em>informazioni temporali</em></li><li>Uniformare la rappresentazione di entità temporali</li><li>Permettere <em>reasoning automatico</em> sulle relazioni fra eventi temporali</li></ul></section><section><h1 id=alcuni-esempi>Alcuni esempi</h1><p>L&rsquo;<strong>ambito medico</strong> è un campo in cui poter ragionare automaticamente<br>sulle <em>relazioni</em> fra eventi temporali può essere molto utile</p><p>Alcuni esempi che potrebbero beneficiare di un&rsquo;ontologia per il tempo:</p><ul><li>Individuazione più efficace di <em>reazioni avverse</em></li><li>Predizione del <em>rischio di insorgenza</em> di determinate malattie</li><li>Studio del <em>decorso</em> di una malattia</li></ul></section><section><h1 id=ontologie-utilizzate>Ontologie utilizzate</h1><ul><li><code>OWL Time Ontology</code> per collegare i concetti di istante e intervallo</li><li><code>Temporal Ontology</code> per sfruttare i predicati <code>before</code> e <code>after</code><br>nella realizzazione delle regole SWRL</li><li><code>SWRLX</code> per permettere la creazione di nuovi individui durante il<br>processo di reasoning</li></ul></section><section><h1 id=alcune-statistiche>Alcune statistiche</h1><table><thead><tr><th>Metrics</th><th>Count</th></tr></thead><tbody><tr><td><em>Axiom</em></td><td>1582</td></tr><tr><td><em>Logical axiom</em></td><td>540</td></tr><tr><td><em>Declaration axiom</em></td><td>156</td></tr><tr><td><em>Class</em></td><td>48</td></tr><tr><td><em>Object property</em></td><td>70</td></tr><tr><td><em>Data property</em></td><td>29</td></tr><tr><td><em>Individual</em></td><td>28</td></tr><tr><td><em>Annotation property</em></td><td>23</td></tr></tbody></table></section><section><p>Tutte le nuove classi e proprietà introdotte sono state<br>etichettate con <code>rdfs:label</code> e descritte tramite <code>skos:definition</code><br>e <code>rdfs:comment</code> sia in italiano che in inglese</p><p>Inoltre sono state realizzate oltre 30 regole SWRL per permettere<br>un&rsquo;efficace inferenza temporale</p></section><section><h1 id=eventi>Eventi</h1><p>L&rsquo;ontologia rimane volutamente <em>generica sulla tipologia di eventi trattati:</em><br>il fulcro centrale è la gestione di concetti temporali</p><p>Chi utilizza l&rsquo;ontologia sceglierà poi quali sottoclassi di <code>Event</code><br>realizzare a seconda del bisogno. Un evento potrebbe essere:</p><ul><li>L&rsquo;avvenuta vaccinazione di un paziente</li><li>La prescrizione di un farmaco</li><li>La rilevazione di una scossa di terremoto</li><li>L&rsquo;inizio del processo di stagionatura di un formaggio</li></ul></section><section><h1 id=intervalli-temporali>Intervalli temporali</h1><p>Il concetto chiave è quello di <strong>intervallo temporale</strong> (<code>TimeInterval</code>)</p><p>Ogni intervallo ha un <em>istante d&rsquo;inizio</em> e/o un <em>istante di fine</em>:<br>se manca uno dei due estremi, l&rsquo;intervallo è <em>aperto</em></p><p>Si divide in:</p><ul><li>Intervallo <strong>assoluto</strong> (<code>AbsoluteInterval</code>)</li><li>Intervallo <strong>relativo</strong> (<code>RelativeInterval</code>)</li><li>Intervallo <strong>approssimato</strong> (<code>FuzzyInterval</code>)</li></ul></section><section><h2 id=intervalli-assoluti>Intervalli assoluti</h2><p>Un <strong>intervallo assoluto</strong> (<code>AbsoluteInterval</code>) è un intervallo<br>i cui estremi sono <em>istanti assoluti</em>, quindi <em>ben fissati sulla linea temporale</em></p><h3 id=esempi>Esempi</h3><ul><li>Dall&rsquo;<strong>11 ottobre 1998 alle 10:00:00</strong><br>al <strong>5 novembre 2022 alle 12:54:15</strong></li><li>Dal <strong>28 settebre 1998 alle 14:32:26</strong></li><li>Fino al <strong>5 novembre 2002 alle 12:54:15</strong></li></ul></section><section><h2 id=intervalli-relativi>Intervalli relativi</h2><p>Un <strong>intervallo relativo</strong> (<code>RelativeInterval</code>) è un intervallo<br>in cui almeno uno dei due estremi è un <em>istante relativo</em> a uno assoluto</p><h3 id=esempi-1>Esempi</h3><ul><li>Da <strong>ieri a mezzanotte</strong> (relativo a ora) fino a <strong>ora</strong> (assoluto)</li><li>Fino a <strong>due giorni fa</strong> (relativo a ora)</li></ul></section><section><h2 id=intervalli-approssimati>Intervalli approssimati</h2><p>Un <strong>intervallo approssimato</strong> (<code>FuzzyInterval</code>) è un intervallo<br>in cui almeno uno dei due estremi è un <em>istante approssimato</em>,<br>cioè contenuto in un <em>intervallo di incertezza</em></p><h3 id=esempi-2>Esempi</h3><ul><li>Dalle <strong>9 di mattina</strong> (relativo a ora)<br>fino al <strong>tardo pomeriggio</strong> (approssimato)</li><li>Dalla <strong>prima settimana di settembre</strong> (approssimato)<br>fino al <strong>21 settembre 2022</strong> (assoluto)</li></ul></section><section><h1 id=istanti-temporali>Istanti temporali</h1><p>Un <strong>istante temporale</strong> (<code>TimeInstant</code>) rappresenta un&rsquo;entità temporale<br>che denota un preciso momento nel tempo <em>di durata nulla</em></p><p>Un istante non è altro che un <em>intervallo</em> i cui istanti di inizio e fine coincidono:<br>questa equivalenza <em>semplifica notevolmente</em> le regole per effettuare il reasoning</p><p>Analogamente agli intervalli, si divide in:</p><ul><li>Istante <strong>assoluto</strong> (<code>AbsoluteInstant</code>)</li><li>Istante <strong>relativo</strong> (<code>RelativeInstant</code>)</li><li>Istante <strong>approssimato</strong> (<code>FuzzyInstant</code>)</li></ul></section><section><figure><img src=classi1.svg></figure></section><section><h2 id=istanti-assoluti>Istanti assoluti</h2><p>Un <strong>istante assoluto</strong> (<code>AbsoluteInstant</code>) è un istante<br>ben fissato sulla linea temporale</p><h3 id=esempi-3>Esempi</h3><ul><li><strong>11 ottobre 1998 alle 10:00:00</strong></li><li><strong>5 novembre 2022 alle 12:54:15</strong></li></ul></section><section><h2 id=istanti-relativi>Istanti relativi</h2><p>Un <strong>istante relativo</strong> (<code>RelativeInstant</code>) è un istante<br>definito in termini di distanza da un istante assoluto (detto <em>àncora</em>)</p><p>La distanza di un istante relativo dalla sua àncora viene indicata tramite un <code>TimeDelta</code>,<br>che contiene una <em>dimensione numerica</em> e la sua <em>granularità</em></p><h3 id=esempi-4>Esempi</h3><ul><li><strong>10 giorni dopo</strong> (distanza 10, granularità giorno)<br>l&rsquo;<strong>11 ottobre 1998 alle 10:00:00</strong> (àncora)</li><li><strong>3 ore prima</strong> (distanza 3, granularità ora) del ricovero<br>in ospedale il <strong>5 novembre 2022 alle 12:54:15</strong> (àncora)</li></ul></section><section><h2 id=istanti-approssimati>Istanti approssimati</h2><p>Un <strong>istante approssimato</strong> (<code>FuzzyInstant</code>) è un istante<br>contenuto in un <em>intervallo di incertezza</em></p><h3 id=esempi-5>Esempi</h3><ul><li><strong>Verso le 9 di mattina</strong> (fra le 8:00:00 e le 10:00:00)</li><li><strong>All&rsquo;inizio del mese</strong> (fra l'1 e il 10)</li></ul></section><section><figure><img src=instants.svg></figure></section><section><h1 id=relazioni-temporali>Relazioni temporali</h1><p>Le <strong>relazioni temporali</strong> possono essere stabilite fra due <em>entità temporali qualsiasi,</em><br>a prescindere dal fatto che siano istanti o intervalli</p><p>Si dividono in:</p><ul><li>Relazioni temporali <em>elementari</em></li><li>Relazioni temporali <em>di Allen</em></li></ul></section><section><h2 id=relazioni-temporali-elementari>Relazioni temporali elementari</h2><p>Le relazioni temporali elementari permettono di stabilire<br><em>legami fra intervalli</em> anche nel caso in cui questi siano aperti<br>mettendo in relazione i tempi dei loro estremi</p><div class=mermaid>flowchart LR
s1[start]
s2[start]
e1[end]
e2[end]
before[before]
equals[equals]
after[after]
s1 --> before
before --> s2
s1 --> equals
equals --> s2
s1 --> after
after --> s2
e1 --> before
before --> e2
e1 --> equals
equals --> e2
e1 --> after
after --> e2</div></section><section><h2 id=relazioni-temporali-di-allen>Relazioni temporali di Allen</h2><p>Partendo dalle dodici relazioni temporali elementari,<br>si possono definire le tredici <strong>relazioni temporali di Allen</strong><br>fra due entità temporali $T_1$ e $T_2$</p><table><thead><tr><th>Relazione</th><th>Inverso</th><th>Definizione</th></tr></thead><tbody><tr><td>Before</td><td>After</td><td>$T_1$ avviene prima di $T_2$ senza sovrapporsi</td></tr><tr><td>Meet</td><td>Met by</td><td>$T_1$ finisce quando inizia $T_2$</td></tr><tr><td>Overlaps</td><td>Overlapped by</td><td>$T_1$ si sovrappone almeno parzialmente a $T_2$</td></tr><tr><td>Contains</td><td>During</td><td>$T_1$ contiene completamente $T_2$</td></tr><tr><td>Starts</td><td>Started by</td><td>$T_1$ inizia quando inizia $T_2$</td></tr><tr><td>Finishes</td><td>Finished by</td><td>$T_1$ finisce quando finisce $T_2$</td></tr><tr><td>Equals</td><td>-</td><td>$T_1$ e $T_2$ coincidono</td></tr></tbody></table></section><section><h1 id=regole-swrl>Regole SWRL</h1><p>Per permettere ragionamento automatico efficace sulle relazioni fra eventi<br>temporali sono state realizzate diverse regole SWRL che permettono<br>di <em>inferire sia le relazioni temporali elementari, sia quelle di Allen</em></p><p>Per ridurre il numero di regole da realizzare sono state effettuate delle<br>conversioni che permettono di <em>ridurre ogni entità temporale al</em><br><em>corrispondente intervallo assoluto</em></p></section><section><h2 id=conversione-da-istante-relativo-ad-assoluto>Conversione da istante relativo ad assoluto</h2><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span>   <span style=color:#d88200>:</span><span style=color:#111>RelativeInstant</span><span style=color:#111>(</span><span style=color:#d88200>?instant</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#d88200>:</span><span style=color:#75af00>hasPrefixAnchor</span><span style=color:#111>(</span><span style=color:#d88200>?instant</span><span style=color:#111>,</span> <span style=color:#d88200>?anchor</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#d88200>:</span><span style=color:#75af00>hasDateTime</span><span style=color:#111>(</span><span style=color:#d88200>?anchor</span><span style=color:#111>,</span> <span style=color:#d88200>?anchorTimestamp</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#d88200>:</span><span style=color:#75af00>hasTimeDelta</span><span style=color:#111>(</span><span style=color:#d88200>?instant</span><span style=color:#111>,</span> <span style=color:#d88200>?delta</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#d88200>:</span><span style=color:#75af00>hasDeltaUnitType</span><span style=color:#111>(</span><span style=color:#d88200>?delta</span><span style=color:#111>,</span> <span style=color:#111>time</span><span style=color:#111>:</span><span style=color:#d88200>unitDay</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#d88200>:</span><span style=color:#75af00>deltaNumericDuration</span><span style=color:#111>(</span><span style=color:#d88200>?delta</span><span style=color:#111>,</span> <span style=color:#d88200>?deltaDurationDays</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#111>swrlb</span><span style=color:#111>:</span><span style=color:#75af00>multiply</span><span style=color:#111>(</span><span style=color:#d88200>?deltaDurationSecondsDecimal</span><span style=color:#111>,</span> <span style=color:#d88200>?deltaDurationDays</span><span style=color:#111>,</span> <span style=color:#ae81ff>86400</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#111>swrlb</span><span style=color:#111>:</span><span style=color:#75af00>round</span><span style=color:#111>(</span><span style=color:#d88200>?deltaDurationSeconds</span><span style=color:#111>,</span> <span style=color:#d88200>?deltaDurationSecondsDecimal</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#111>temporal</span><span style=color:#111>:</span><span style=color:#75af00>add</span><span style=color:#111>(</span><span style=color:#d88200>?absoluteTime</span><span style=color:#111>,</span> <span style=color:#d88200>?anchorTimestamp</span><span style=color:#111>,</span> <span style=color:#d88200>?deltaDurationSeconds</span><span style=color:#111>,</span> <span style=color:#d88200>&#34;Seconds&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#d88200>-&gt;</span> <span style=color:#d88200>:</span><span style=color:#111>AbsoluteInstant</span><span style=color:#111>(</span><span style=color:#d88200>?instant</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#d88200>:</span><span style=color:#75af00>hasDateTime</span><span style=color:#111>(</span><span style=color:#d88200>?instant</span><span style=color:#111>,</span> <span style=color:#d88200>?absoluteTime</span><span style=color:#111>)</span>
</span></span></code></pre></div></section><section><h2 id=conversione-da-istante-assoluto-a-intervallo>Conversione da istante assoluto a intervallo</h2><p>Un istante assoluto è un intervallo assoluto che ha <em>l&rsquo;istante stesso</em><br>come inizio e come fine</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span>   <span style=color:#d88200>:</span><span style=color:#111>AbsoluteInstant</span><span style=color:#111>(</span><span style=color:#d88200>?i</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#d88200>-&gt;</span> <span style=color:#d88200>:</span><span style=color:#111>AbsoluteInterval</span><span style=color:#111>(</span><span style=color:#d88200>?i</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#d88200>:</span><span style=color:#75af00>hasBeginning</span><span style=color:#111>(</span><span style=color:#d88200>?i</span><span style=color:#111>,</span> <span style=color:#d88200>?i</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#d88200>:</span><span style=color:#75af00>hasEnd</span><span style=color:#111>(</span><span style=color:#d88200>?i</span><span style=color:#111>,</span> <span style=color:#d88200>?i</span><span style=color:#111>)</span>
</span></span></code></pre></div></section><section><h2 id=relazioni-temporali-elementari-1>Relazioni temporali elementari</h2><p>$\forall T_1, T_2 . [hasBeginning(T_1, B_1) \land hasEnd(T_2, E_2) \land B_1 &lt; E_2 ]$<br>$\Rightarrow startBeforeEnd(T_1, T_2)$</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span>   <span style=color:#d88200>:</span><span style=color:#75af00>hasBeginning</span><span style=color:#111>(</span><span style=color:#d88200>?a</span><span style=color:#111>,</span> <span style=color:#d88200>?aAnchor</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#d88200>:</span><span style=color:#75af00>hasEnd</span><span style=color:#111>(</span><span style=color:#d88200>?b</span><span style=color:#111>,</span> <span style=color:#d88200>?bAnchor</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#d88200>:</span><span style=color:#75af00>hasDateTime</span><span style=color:#111>(</span><span style=color:#d88200>?aAnchor</span><span style=color:#111>,</span> <span style=color:#d88200>?aTimeStamp</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#d88200>:</span><span style=color:#75af00>hasDateTime</span><span style=color:#111>(</span><span style=color:#d88200>?bAnchor</span><span style=color:#111>,</span> <span style=color:#d88200>?bTimeStamp</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#111>temporal</span><span style=color:#111>:</span><span style=color:#75af00>before</span><span style=color:#111>(</span><span style=color:#d88200>?aTimeStamp</span><span style=color:#111>,</span> <span style=color:#d88200>?bTimeStamp</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#d88200>-&gt;</span> <span style=color:#d88200>:</span><span style=color:#75af00>startBeforeEnd</span><span style=color:#111>(</span><span style=color:#d88200>?a</span><span style=color:#111>,</span> <span style=color:#d88200>?b</span><span style=color:#111>)</span>
</span></span></code></pre></div></section><section><h2 id=relazioni-temporali-di-allen-1>Relazioni temporali di Allen</h2><p>$$
\begin{align}
\forall\ T_1,T_2\quad before(T_1, T_2) \iff & startBeforeStart(T_1, T_2) \\
& \land endBeforeEnd(T_1, T_2) \\
& \land startBeforeEnd(T_1, T_2) \\
& \land endBeforeStart(T_1, T_2) \\
\end{align}
$$</p><p>L&rsquo;implicazione $\Rightarrow$ può essere realizzata direttamente in <em>OWL</em><br>grazie all&rsquo;uso di <code>subPropertyOf</code></p><p>Tuttavia, per implementare l&rsquo;implicazione $\Leftarrow$ è necessario<br>ricorrere a regole <em>SWRL</em></p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span>   <span style=color:#d88200>:</span><span style=color:#75af00>startBeforeStart</span><span style=color:#111>(</span><span style=color:#d88200>?a</span><span style=color:#111>,</span> <span style=color:#d88200>?b</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#d88200>:</span><span style=color:#75af00>endBeforeEnd</span><span style=color:#111>(</span><span style=color:#d88200>?a</span><span style=color:#111>,</span> <span style=color:#d88200>?b</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#d88200>:</span><span style=color:#75af00>startBeforeEnd</span><span style=color:#111>(</span><span style=color:#d88200>?a</span><span style=color:#111>,</span> <span style=color:#d88200>?b</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#d88200>:</span><span style=color:#75af00>endBeforeStart</span><span style=color:#111>(</span><span style=color:#d88200>?a</span><span style=color:#111>,</span> <span style=color:#d88200>?b</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#d88200>-&gt;</span> <span style=color:#d88200>:</span><span style=color:#75af00>before</span><span style=color:#111>(</span><span style=color:#d88200>?a</span><span style=color:#111>,</span> <span style=color:#d88200>?b</span><span style=color:#111>)</span>
</span></span></code></pre></div></section><section><h2 id=calcolo-della-durata-di-un-intervallo>Calcolo della durata di un intervallo</h2><p>Per ogni intervallo ne viene <em>calcolata la durata</em> per permettere di<br>realizzare delle query su questo aspetto</p><p>Per poter aggiungere l&rsquo;individuo che contiene la durata dell&rsquo;intervallo<br>è stato utilizzato il builtin <code>swrlx:makeOWLThing</code></p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span>   <span style=color:#d88200>:</span><span style=color:#75af00>hasBeginning</span><span style=color:#111>(</span><span style=color:#d88200>?i</span><span style=color:#111>,</span> <span style=color:#d88200>?iBeginning</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#d88200>:</span><span style=color:#75af00>hasEnd</span><span style=color:#111>(</span><span style=color:#d88200>?i</span><span style=color:#111>,</span> <span style=color:#d88200>?iEnd</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#d88200>:</span><span style=color:#75af00>hasDateTime</span><span style=color:#111>(</span><span style=color:#d88200>?iBeginning</span><span style=color:#111>,</span> <span style=color:#d88200>?iBeginningTimeStamp</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#d88200>:</span><span style=color:#75af00>hasDateTime</span><span style=color:#111>(</span><span style=color:#d88200>?iEnd</span><span style=color:#111>,</span> <span style=color:#d88200>?iEndTimeStamp</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#111>temporal</span><span style=color:#111>:</span><span style=color:#75af00>duration</span><span style=color:#111>(</span><span style=color:#d88200>?seconds</span><span style=color:#111>,</span> <span style=color:#d88200>?iBeginningTimeStamp</span><span style=color:#111>,</span> <span style=color:#d88200>?iEndTimeStamp</span><span style=color:#111>,</span> <span style=color:#d88200>&#34;Seconds&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#111>swrlx</span><span style=color:#111>:</span><span style=color:#75af00>makeOWLThing</span><span style=color:#111>(</span><span style=color:#d88200>?d</span><span style=color:#111>,</span> <span style=color:#d88200>?i</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#d88200>-&gt;</span> <span style=color:#111>time</span><span style=color:#111>:</span><span style=color:#111>Duration</span><span style=color:#111>(</span><span style=color:#d88200>?d</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#d88200>:</span><span style=color:#75af00>hasDuration</span><span style=color:#111>(</span><span style=color:#d88200>?i</span><span style=color:#111>,</span> <span style=color:#d88200>?d</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#111>time</span><span style=color:#111>:</span><span style=color:#75af00>unitType</span><span style=color:#111>(</span><span style=color:#d88200>?d</span><span style=color:#111>,</span> <span style=color:#111>time</span><span style=color:#111>:</span><span style=color:#d88200>unitSecond</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#111>time</span><span style=color:#111>:</span><span style=color:#75af00>numericDuration</span><span style=color:#111>(</span><span style=color:#d88200>?d</span><span style=color:#111>,</span> <span style=color:#d88200>?seconds</span><span style=color:#111>)</span>
</span></span></code></pre></div></section><section><h2 id=conversioni-di-durate-temporali>Conversioni di durate temporali</h2><p>Le durate sono calcolate automaticamente in secondi, ma potrebbe essere<br>utile poter interrogare su <em>granularità diverse</em> delle durate degli intervalli</p><p>Per questo sono state implementate diverse regole che realizzano in automatico<br>le conversioni a diverse granularità (minuti, giorni, anni, &mldr;)</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span>   <span style=color:#d88200>:</span><span style=color:#75af00>hasDuration</span><span style=color:#111>(</span><span style=color:#d88200>?i</span><span style=color:#111>,</span> <span style=color:#d88200>?d</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#111>time</span><span style=color:#111>:</span><span style=color:#111>Duration</span><span style=color:#111>(</span><span style=color:#d88200>?d</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#111>time</span><span style=color:#111>:</span><span style=color:#75af00>unitType</span><span style=color:#111>(</span><span style=color:#d88200>?d</span><span style=color:#111>,</span> <span style=color:#111>time</span><span style=color:#111>:</span><span style=color:#d88200>unitSecond</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#111>time</span><span style=color:#111>:</span><span style=color:#75af00>numericDuration</span><span style=color:#111>(</span><span style=color:#d88200>?d</span><span style=color:#111>,</span> <span style=color:#d88200>?seconds</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#111>swrlb</span><span style=color:#111>:</span><span style=color:#75af00>divide</span><span style=color:#111>(</span><span style=color:#d88200>?days</span><span style=color:#111>,</span> <span style=color:#d88200>?seconds</span><span style=color:#111>,</span> <span style=color:#ae81ff>86400</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#111>swrlx</span><span style=color:#111>:</span><span style=color:#75af00>makeOWLThing</span><span style=color:#111>(</span><span style=color:#d88200>?dDays</span><span style=color:#111>,</span> <span style=color:#d88200>?d</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#d88200>-&gt;</span> <span style=color:#111>time</span><span style=color:#111>:</span><span style=color:#111>Duration</span><span style=color:#111>(</span><span style=color:#d88200>?dDays</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#d88200>:</span><span style=color:#75af00>hasDuration</span><span style=color:#111>(</span><span style=color:#d88200>?i</span><span style=color:#111>,</span> <span style=color:#d88200>?dDays</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#111>time</span><span style=color:#111>:</span><span style=color:#75af00>unitType</span><span style=color:#111>(</span><span style=color:#d88200>?dDays</span><span style=color:#111>,</span> <span style=color:#111>time</span><span style=color:#111>:</span><span style=color:#d88200>unitDay</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span> <span style=color:#d88200>^</span> <span style=color:#111>time</span><span style=color:#111>:</span><span style=color:#75af00>numericDuration</span><span style=color:#111>(</span><span style=color:#d88200>?dDays</span><span style=color:#111>,</span> <span style=color:#d88200>?days</span><span style=color:#111>)</span>
</span></span></code></pre></div></section><section><h1 id=query-sparql>Query SPARQL</h1></section><section><h2 id=query-1>Query 1</h2><p>Il Caseificio Mambelli ha ricevuto un grande ordine di formaggi stagionati da parte<br>di una delle catene di supermercati che rifornisce che si vuole preparare<br>per il periodo natalizio</p><p>I titolari vogliono sapere <em>quanti dei formaggi attualmente in invecchiamento</em><br><em>saranno pronti prima della scadenza per il completamento dell’ordine</em><br>in modo da adeguare la propria produzione per tempo</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#00a8c8>SELECT</span> <span style=color:#111>(</span><span style=color:#75af00>COUNT</span><span style=color:#111>(</span><span style=color:#111>?agingCheese</span><span style=color:#111>)</span> <span style=color:#00a8c8>AS</span> <span style=color:#111>?availableUnits</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>WHERE</span> <span style=color:#111>{</span>
</span></span><span style=display:flex><span>  <span style=color:#111>?agingCheese</span>
</span></span><span style=display:flex><span>    <span style=color:#111>rdf</span><span style=color:#111>:</span><span style=color:#f92672>type</span> <span style=color:#111>cheese</span><span style=color:#111>:</span><span style=color:#f92672>Cheese</span><span style=color:#111>;</span>
</span></span><span style=display:flex><span>    <span style=color:#111>cheese</span><span style=color:#111>:</span><span style=color:#f92672>hasAging</span> <span style=color:#f92672>/</span> <span style=color:#111>cheese</span><span style=color:#111>:</span><span style=color:#f92672>hasAgingInterval</span> <span style=color:#f92672>/</span> <span style=color:#111>reto</span><span style=color:#111>:</span><span style=color:#f92672>endBeforeEnd</span> <span style=color:#111>:</span><span style=color:#f92672>scadenzaOrdine</span><span style=color:#111>.</span>
</span></span><span style=display:flex><span><span style=color:#111>}</span>
</span></span></code></pre></div></section><section><h2 id=query-2>Query 2</h2><p>Il Teatro Bonci di Cesena vuole <em>valutare l’efficacia della propria nuova campagna</em><br><em>pubblicitaria</em> per la stagione di abbonamenti del 2022</p><p>La nuova campagna è stata avviata a metà della stagione, dunque si vuole vedere<br><em>quanti abbonamenti sono stati venduti prima e dopo l’avvio della campagna</em></p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#00a8c8>SELECT</span> <span style=color:#111>(</span><span style=color:#75af00>COUNT</span><span style=color:#111>(</span><span style=color:#111>?b</span><span style=color:#111>)</span> <span style=color:#00a8c8>AS</span> <span style=color:#111>?before</span><span style=color:#111>)</span> <span style=color:#111>(</span><span style=color:#75af00>COUNT</span><span style=color:#111>(</span><span style=color:#111>?a</span><span style=color:#111>)</span> <span style=color:#00a8c8>AS</span> <span style=color:#111>?after</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>WHERE</span> <span style=color:#111>{</span>
</span></span><span style=display:flex><span>  <span style=color:#111>{</span>
</span></span><span style=display:flex><span>    <span style=color:#111>?seasonTicket</span> <span style=color:#111>rdf</span><span style=color:#111>:</span><span style=color:#f92672>type</span> <span style=color:#111>bonci</span><span style=color:#111>:</span><span style=color:#f92672>SeasonTicket</span><span style=color:#111>;</span>
</span></span><span style=display:flex><span>                  <span style=color:#111>:</span><span style=color:#f92672>hasValidTime</span> <span style=color:#111>?b</span><span style=color:#111>.</span>
</span></span><span style=display:flex><span>    <span style=color:#111>?b</span> <span style=color:#111>:</span><span style=color:#f92672>during</span> <span style=color:#111>bonci</span><span style=color:#111>:</span><span style=color:#f92672>campagnaAbbonamenti2022</span><span style=color:#111>;</span>
</span></span><span style=display:flex><span>       <span style=color:#111>:</span><span style=color:#f92672>before</span> <span style=color:#111>bonci</span><span style=color:#111>:</span><span style=color:#f92672>nuovaPubblicita</span><span style=color:#111>.</span>
</span></span><span style=display:flex><span>  <span style=color:#111>}</span> <span style=color:#00a8c8>UNION</span> <span style=color:#111>{</span>
</span></span><span style=display:flex><span>    <span style=color:#111>?seasonTicket</span> <span style=color:#111>rdf</span><span style=color:#111>:</span><span style=color:#f92672>type</span> <span style=color:#111>bonci</span><span style=color:#111>:</span><span style=color:#f92672>SeasonTicket</span><span style=color:#111>;</span>
</span></span><span style=display:flex><span>                  <span style=color:#111>:</span><span style=color:#f92672>hasValidTime</span> <span style=color:#111>?a</span><span style=color:#111>.</span>
</span></span><span style=display:flex><span>    <span style=color:#111>?a</span> <span style=color:#111>:</span><span style=color:#f92672>during</span> <span style=color:#111>bonci</span><span style=color:#111>:</span><span style=color:#f92672>campagnaAbbonamenti2022</span><span style=color:#111>;</span>
</span></span><span style=display:flex><span>       <span style=color:#111>:</span><span style=color:#f92672>after</span> <span style=color:#111>bonci</span><span style=color:#111>:</span><span style=color:#f92672>nuovaPubblicita</span><span style=color:#111>.</span>
</span></span><span style=display:flex><span>  <span style=color:#111>}</span>
</span></span><span style=display:flex><span><span style=color:#111>}</span>
</span></span></code></pre></div></section><section><h2 id=query-3>Query 3</h2><p>L&rsquo;Agenzia Italiana del Farmaco sta seguendo gli studi di Fase 3<br>per dare l&rsquo;approvazione del nuovo vaccino bivalente BA.4/BA.5 contro il virus SARS-Cov-2,<br>e vuole analizzare <em>tutte le segnalazioni</em> di <em>episodi avversi</em> avvenuti <em>in seguito alla vaccinazione</em></p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#00a8c8>SELECT</span> <span style=color:#111>?patient</span> <span style=color:#111>?accident</span> <span style=color:#111>?vaccTime</span> <span style=color:#111>?accidentTime</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>WHERE</span> <span style=color:#111>{</span>
</span></span><span style=display:flex><span>  <span style=color:#111>?patient</span> <span style=color:#111>:</span><span style=color:#f92672>subjectOf</span> <span style=color:#111>?vaccination</span><span style=color:#111>;</span>
</span></span><span style=display:flex><span>           <span style=color:#111>:</span><span style=color:#f92672>subjectOf</span> <span style=color:#111>?accident</span><span style=color:#111>.</span>
</span></span><span style=display:flex><span>  <span style=color:#111>?accident</span> <span style=color:#111>rdf</span><span style=color:#111>:</span><span style=color:#f92672>type</span> <span style=color:#111>medical</span><span style=color:#111>:</span><span style=color:#f92672>PatientAccident</span><span style=color:#111>;</span>
</span></span><span style=display:flex><span>            <span style=color:#111>:</span><span style=color:#f92672>hasValidTime</span> <span style=color:#111>?accidentTime</span><span style=color:#111>.</span>
</span></span><span style=display:flex><span>  <span style=color:#111>?vaccination</span> <span style=color:#111>rdf</span><span style=color:#111>:</span><span style=color:#f92672>type</span> <span style=color:#111>medical</span><span style=color:#111>:</span><span style=color:#f92672>Vaccination</span><span style=color:#111>;</span>
</span></span><span style=display:flex><span>               <span style=color:#111>:</span><span style=color:#f92672>hasValidTime</span> <span style=color:#111>?vaccTime</span><span style=color:#111>;</span>
</span></span><span style=display:flex><span>               <span style=color:#111>medical</span><span style=color:#111>:</span><span style=color:#f92672>withVaccine</span> <span style=color:#111>[</span>
</span></span><span style=display:flex><span>                 <span style=color:#111>medical</span><span style=color:#111>:</span><span style=color:#f92672>against</span> <span style=color:#d88200>&#34;SARS-Cov-2&#34;</span><span style=color:#111>;</span>
</span></span><span style=display:flex><span>                 <span style=color:#111>medical</span><span style=color:#111>:</span><span style=color:#f92672>variant</span> <span style=color:#d88200>&#34;BA.4&#34;</span><span style=color:#111>,</span> <span style=color:#d88200>&#34;BA.5&#34;</span>
</span></span><span style=display:flex><span>               <span style=color:#111>].</span>
</span></span><span style=display:flex><span>  <span style=color:#111>?accidentTime</span> <span style=color:#111>:</span><span style=color:#f92672>after</span> <span style=color:#111>?vaccTime</span><span style=color:#111>.</span>
</span></span><span style=display:flex><span><span style=color:#111>}</span>
</span></span></code></pre></div></section><section><h2 id=query-4>Query 4</h2><p>L&rsquo;ISTAT sta compilando la <em>classifica di qualità della vita</em> nelle province<br>italiane per l&rsquo;anno 2021 e uno degli indicatori utilizzati per stilare<br>tale classifica è il numero di denunce presentate per provincia</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#00a8c8>SELECT</span> <span style=color:#111>?province</span> <span style=color:#111>?provinceLabel</span> <span style=color:#111>(</span><span style=color:#75af00>COUNT</span><span style=color:#111>(</span><span style=color:#111>?complaint</span><span style=color:#111>)</span> <span style=color:#00a8c8>AS</span> <span style=color:#111>?complaints</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>WHERE</span> <span style=color:#111>{</span>
</span></span><span style=display:flex><span>    <span style=color:#111>?complaint</span> <span style=color:#111>rdf</span><span style=color:#111>:</span><span style=color:#f92672>type</span> <span style=color:#111>legal</span><span style=color:#111>:</span><span style=color:#f92672>Denuncia</span><span style=color:#111>;</span>
</span></span><span style=display:flex><span>               <span style=color:#111>legal</span><span style=color:#111>:</span><span style=color:#f92672>in</span> <span style=color:#111>?city</span><span style=color:#111>;</span>
</span></span><span style=display:flex><span>               <span style=color:#111>:</span><span style=color:#f92672>hasValidTime</span> <span style=color:#f92672>/</span> <span style=color:#111>:</span><span style=color:#f92672>during</span> <span style=color:#111>istat</span><span style=color:#111>:</span><span style=color:#f92672>anno2021</span><span style=color:#111>.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#00a8c8>SERVICE</span> <span style=color:#111>&lt;https://dbpedia.org/sparql&gt;</span> <span style=color:#111>{</span>
</span></span><span style=display:flex><span>        <span style=color:#111>?city</span> <span style=color:#111>dbo</span><span style=color:#111>:</span><span style=color:#f92672>province</span> <span style=color:#111>?province</span><span style=color:#111>.</span>
</span></span><span style=display:flex><span>        <span style=color:#00a8c8>OPTIONAL</span> <span style=color:#111>{</span>
</span></span><span style=display:flex><span>            <span style=color:#111>?province</span> <span style=color:#111>rdfs</span><span style=color:#111>:</span><span style=color:#f92672>label</span> <span style=color:#111>?provinceLabel</span>
</span></span><span style=display:flex><span>            <span style=color:#00a8c8>FILTER</span><span style=color:#111>(</span><span style=color:#75af00>LANG</span><span style=color:#111>(</span><span style=color:#111>?provinceLabel</span><span style=color:#111>)</span> <span style=color:#f92672>=</span> <span style=color:#d88200>&#34;it&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>        <span style=color:#111>}</span>
</span></span><span style=display:flex><span>    <span style=color:#111>}</span>
</span></span><span style=display:flex><span><span style=color:#111>}</span> <span style=color:#00a8c8>GROUP BY</span> <span style=color:#111>?province</span> <span style=color:#111>?provinceLabel</span>
</span></span></code></pre></div></section></div></div><script type=text/javascript src=/reto/reveal-hugo/object-assign.js></script>
<a href=/reto/reveal-js/css/print/ id=print-location style=display:none></a>
<script type=text/javascript>var printLocationElement=document.getElementById("print-location"),link=document.createElement("link");link.rel="stylesheet",link.type="text/css",link.href=printLocationElement.href+(window.location.search.match(/print-pdf/gi)?"pdf.css":"paper.css"),document.getElementsByTagName("head")[0].appendChild(link)</script><script type=application/json id=reveal-hugo-site-params>{"custom_theme":"custom-theme.scss","custom_theme_compile":true,"custom_theme_options":{"enablesourcemap":true,"targetpath":"css/custom-theme.css"},"height":"100%","highlight_theme":"github","pdfseparatefragments":false,"theme":"white","transition":"slide","transition_speed":"fast","width":"100%"}</script><script type=application/json id=reveal-hugo-page-params>null</script><script src=/reto/reveal-js/js/reveal.js></script>
<script type=text/javascript>function camelize(e){return e&&Object.keys(e).forEach(function(t){newK=t.replace(/(_\w)/g,function(e){return e[1].toUpperCase()}),newK!=t&&(e[newK]=e[t],delete e[t])}),e}var revealHugoDefaults={center:!0,controls:!0,history:!0,progress:!0,transition:"slide"},revealHugoSiteParams=JSON.parse(document.getElementById("reveal-hugo-site-params").innerHTML),revealHugoPageParams=JSON.parse(document.getElementById("reveal-hugo-page-params").innerHTML),options=Object.assign({},camelize(revealHugoDefaults),camelize(revealHugoSiteParams),camelize(revealHugoPageParams));Reveal.initialize(options)</script><script type=text/javascript src=/reto/reveal-js/plugin/markdown/marked.js></script>
<script type=text/javascript src=/reto/reveal-js/plugin/markdown/markdown.js></script>
<script type=text/javascript src=/reto/reveal-js/plugin/highlight/highlight.js></script>
<script type=text/javascript src=/reto/reveal-js/plugin/zoom-js/zoom.js></script>
<script type=text/javascript src=/reto/reveal-js/plugin/notes/notes.js></script>
<script type=text/javascript src=/reto/mermaid.min_6838052300336322795.js></script>
<script type=text/javascript>mermaid.initialize({startOnLoad:!1});let render=e=>{let t=e.currentSlide.querySelectorAll(".mermaid");if(!t.length)return;t.forEach(e=>{let t=e.getAttribute("data-processed");t||mermaid.init(void 0,e)})};render({currentSlide:Reveal.getCurrentSlide()}),Reveal.addEventListener("slidechanged",render),Reveal.addEventListener("ready",render)</script><script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]]},svg:{fontCache:"global"}}</script><script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js></script></body></html>